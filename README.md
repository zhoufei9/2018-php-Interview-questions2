# 2018-php-Interview-questions2
# php面试第二版
php

1、php的数据类型有哪些？说说常用的即可
字符串、数字、数组、对象

2、PHP中传值与传引用的区别 ？
上面说的字符串、数字、数组、对象，在方法调用时，哪些是传值，哪些是传引用？

3、isset和empty的区别？
一个变量$a = null 时 用isset和empty判断分别返回什么？
$a = false
$a = ''
$a = 0
$a = []

4、接口开发的时候是通常使用json传递数据，php怎么接受数据并使用？
用 file_get_contents('php://input');接受 json_decode()转化为数组

有一个传递的参数存在两个条件 1必传 2可能为null，你会怎么判断这个参数是否合法？如果用数组函数知道怎么处理吗？ PHP处理数组的函数有哪些？

5、session有哪些存储方式？
以前我们有一个项目，有三大模块 1主站投资理财 2积分商城 3论坛。
运营中发现客户投资的时候偶尔出现延迟严重（系统配置和带宽不用考虑），如果要你来找出问题你会怎么做？(函数耗时，分析慢查询日志)怎么解决？
当时我们发现是论坛那边有些比较复杂的sql语句执行时间长造成的，就把论坛和商城数据分库分离出去，使用了二级域名。后来遇到一个单点登录的问题，如果让你来解决你会怎么做？
session共享的关键技术点在于两点：
1. 让客户端访问同一个sessionId,
2. 让所有域名对应的服务器访问的Session的数据的位置必须一致

6、现在编程中经常采取MVC三层结构，请问MVC分别指哪三层，有什么优点？
MVC三层分别指：业务模型、视图、控制器，由控制器层调用模型处理数据，然后将数据映射到视图层进行显示，
优点是：①可以实现代码的重用性，避免产生代码冗余；②M和V的实现代码分离，从而使同一个程序可以使用不同的表现形式

7、你用过哪些框架，分别说说他们的优点和缺点？一个新项目给你负责开发，你会怎么考虑选择框架？

8、面向对象的特征有哪些方面?简单说说你的理解和他们的优点。
答：主要有封装,继承,多态。如果是4个方面则加上：抽象。

下面的解释为理解：
封装：封装是保证软件部件具有优良的模块性的基础,封装的目标就是要实现软件部件的高内聚,低耦合,防止程序相互依赖性而带来的变动影响.

继承：在定义和实现一个类的时候，可以在一个已经存在的类的基础之上来进行，把这个已经存在的类所定义的内容作为自己的内容，并可以加入若干新的内容，或修改原来的方法使之更适合特殊的需要，这就是继承。继承是子类自动共享父类数据和方法的机制，这是类之间的一种关系，提高了软件的可重用性和可扩展性。
多态：多态是指程序中定义的引用变量所指向的具体类型和通过该引用变量发出的方法调用在编程时并不确定，而是在程序运行期间才确定，即一个引用变量倒底会指向哪个类的实例对象，该引用变量发出的方法调用到底是哪个类中实现的方法，必须在由程序运行期间才能决定。
抽象：抽象就是找出一些事物的相似和共性之处，然后将这些事物归为一个类，这个类只考虑这些事物的相似和共性之处，并且会忽略与当前主题和目标无关的那些方面，将注意力集中在与当前目标有关的方面。例如，看到一只蚂蚁和大象，你能够想象出它们的相同之处，那就是抽象

9、列举常用的设计模式并说明?单例模式、工厂模式、观察者模式等

mysql 

1、MongoDB、Redis是否使用过，一般使用场景？

2、MySQL数据库作发布系统的存储，一天五万条以上的增量，预计运维3-5年,怎么优化？
a. 设计良好的数据库结构，允许部分数据冗余，尽量避免join查询，提高效率。
b. 选择合适的表字段数据类型和存储引擎，适当的添加索引。
c. mysql库主从读写分离。
d. 找规律分表，减少单表中的数据量提高查询速度。
e。添加缓存机制，比如memcached，apc等。
f. 不经常改动的页面，生成静态页面。
g. 书写高效率的SQL。比如 SELECT * FROM TABEL 改为 SELECT field_1, field_2, field_3 FROM TABLE.

3、一个1000万的表a，一个500万的表b，通过外键bid关联，你如何最快的查询出满足条件的第50000到第50200中的这200条数据记录。<br>
	1、如果A表BID是自增长,并且是连续的,B表的ID为索引<br>
	select * from a,b where a.tid = b.id and a.bid>500000 limit 200;<br>

	2、如果A表的BID不是连续的,那么就需要使用覆盖索引.BID要么是主键,要么是辅助索引,B表ID也需要有索引。
	select * from b , (select tid from a limit 50000,200) a where b.id = a .tid;

linux

1、怎样更改一个文件的权限设置？ chmod 

2、在vi中退出不保存的命令是？q!

3、在ps命令中什么参数是用来显示所有用户的进程的？a

4、哪个命令可以查看网卡的中断？  cat /proc/interrupts

5、有一个备份程序mybackup，需要在周一至周五下午1点和晚上8点各运行一次，crontab怎么写？ 0 13,20 * * 1,2,3,4,5 mybackup

6、统计日志中某个ip出现的次数（每行一个ip）

nginx

1、使用“反向代理服务器”的优点是什么?
反向代理服务器可以隐藏源服务器的存在和特征。它充当互联网云和web服务器之间的中间层。这对于安全方面来说是很好的，特别是当您使用web托管服务时。

2、请解释Nginx服务器上的Master和Worker进程分别是什么?
Master进程：读取及评估配置和维持
Worker进程：处理请求

3、解释Nginx是否支持将请求压缩到上游?
使用Nginx模块gunzip将请求压缩到上游。gunzip模块是一个过滤器，它可以对不支持“gzip”编码方法的客户机或服务器使用“内容编码:gzip”来解压缩响应。

4、nginx与php的工作原理
Nginx通过反向代理功能将动态请求转向后端Php-fpm。
